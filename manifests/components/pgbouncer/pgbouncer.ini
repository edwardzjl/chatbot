; This file is modified on a base generated by <https://hub.docker.com/r/bitnami/pgbouncer>
; The source code of the base image can be found at <https://github.com/bitnami/containers/tree/main/bitnami/pgbouncer>

[databases]
chatbot = host=postgres.postgres-shared.svc.cluster.local port=5432 dbname=chatbot auth_user=chatbot pool_size=200
chatbot-standby = host=postgres-replica.postgres-shared.svc.cluster.local port=5432 dbname=chatbot auth_user=chatbot pool_size=200
* = host=postgres.postgres-shared.svc.cluster.local

[pgbouncer]
listen_port=5432
listen_addr=0.0.0.0
unix_socket_dir=/tmp/
unix_socket_mode=0777
auth_file=/opt/bitnami/pgbouncer/conf/userlist.txt
auth_type=scram-sha-256
pidfile=/opt/bitnami/pgbouncer/tmp/pgbouncer.pid
admin_users=chatbot
client_tls_sslmode=disable
server_tls_sslmode=disable
pool_mode=session
max_client_conn=400
default_pool_size=100
ignore_startup_parameters=extra_float_digits
stats_period=60
server_round_robin=0
server_fast_close=0
